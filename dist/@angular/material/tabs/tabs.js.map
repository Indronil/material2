{"version":3,"sources":["tabs/tabs.ts"],"names":[],"mappings":"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","file":"tabs/tabs.js","sourcesContent":["import {\r\n    NgModule,\r\n    ModuleWithProviders,\r\n    ContentChild,\r\n    Directive,\r\n    Component,\r\n    Input,\r\n    Output,\r\n    ViewChildren,\r\n    NgZone,\r\n    EventEmitter,\r\n    QueryList,\r\n    ContentChildren\r\n} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {PortalModule} from '../core';\r\nimport {MdTabLabel} from './tab-label';\r\nimport {MdTabContent} from './tab-content';\r\nimport {MdTabLabelWrapper} from './tab-label-wrapper';\r\nimport {MdInkBar} from './ink-bar';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport {RIGHT_ARROW, LEFT_ARROW, ENTER} from '../core';\r\n\r\n/** Used to generate unique ID's for each tab component */\r\nlet nextId = 0;\r\n\r\n/** A simple change event emitted on focus or selection changes. */\r\nexport class MdTabChangeEvent {\r\n  index: number;\r\n  tab: MdTab;\r\n}\r\n\r\n@Directive({\r\n  selector: 'md-tab'\r\n})\r\nexport class MdTab {\r\n  @ContentChild(MdTabLabel) label: MdTabLabel;\r\n  @ContentChild(MdTabContent) content: MdTabContent;\r\n\r\n  // TODO: Replace this when BooleanFieldValue is removed.\r\n  private _disabled = false;\r\n  @Input('disabled')\r\n  set disabled(value: boolean) {\r\n    this._disabled = (value != null && `${value}` !== 'false');\r\n  }\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n}\r\n\r\n/**\r\n * Material design tab-group component.  Supports basic tab pairs (label + content) and includes\r\n * animated ink-bar, keyboard navigation, and screen reader.\r\n * See: https://www.google.com/design/spec/components/tabs.html\r\n */\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'md-tab-group',\r\n  templateUrl: 'tab-group.html',\r\n  styleUrls: ['tab-group.css'],\r\n})\r\nexport class MdTabGroup {\r\n  @ContentChildren(MdTab) _tabs: QueryList<MdTab>;\r\n\r\n  @ViewChildren(MdTabLabelWrapper) _labelWrappers: QueryList<MdTabLabelWrapper>;\r\n  @ViewChildren(MdInkBar) _inkBar: QueryList<MdInkBar>;\r\n\r\n  private _isInitialized: boolean = false;\r\n\r\n  private _selectedIndex: number = 0;\r\n  @Input()\r\n  set selectedIndex(value: number) {\r\n    if (value != this._selectedIndex && this.isValidIndex(value)) {\r\n      this._selectedIndex = value;\r\n\r\n      if (this._isInitialized) {\r\n        this._onSelectChange.emit(this._createChangeEvent(value));\r\n      }\r\n    }\r\n  }\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n\r\n  /**\r\n   * Determines if an index is valid.  If the tabs are not ready yet, we assume that the user is\r\n   * providing a valid index and return true.\r\n   */\r\n  isValidIndex(index: number): boolean {\r\n    if (this._tabs) {\r\n      const tab = this._tabs.toArray()[index];\r\n      return tab && !tab.disabled;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /** Output to enable support for two-way binding on `selectedIndex`. */\r\n  @Output('selectedIndexChange') private get _selectedIndexChange(): Observable<number> {\r\n    return this.selectChange.map(event => event.index);\r\n  }\r\n\r\n  private _onFocusChange: EventEmitter<MdTabChangeEvent> = new EventEmitter<MdTabChangeEvent>();\r\n  @Output('focusChange') get focusChange(): Observable<MdTabChangeEvent> {\r\n    return this._onFocusChange.asObservable();\r\n  }\r\n\r\n  private _onSelectChange: EventEmitter<MdTabChangeEvent> = new EventEmitter<MdTabChangeEvent>();\r\n  @Output('selectChange') get selectChange(): Observable<MdTabChangeEvent> {\r\n    return this._onSelectChange.asObservable();\r\n  }\r\n\r\n  private _focusIndex: number = 0;\r\n  private _groupId: number;\r\n\r\n  constructor(private _zone: NgZone) {\r\n    this._groupId = nextId++;\r\n  }\r\n\r\n  /**\r\n   * Waits one frame for the view to update, then upates the ink bar\r\n   * Note: This must be run outside of the zone or it will create an infinite change detection loop\r\n   * TODO: internal\r\n   */\r\n  ngAfterViewChecked(): void {\r\n    this._zone.runOutsideAngular(() => {\r\n      window.requestAnimationFrame(() => {\r\n        this._updateInkBar();\r\n      });\r\n    });\r\n    this._isInitialized = true;\r\n  }\r\n\r\n  /** Tells the ink-bar to align itself to the current label wrapper */\r\n  private _updateInkBar(): void {\r\n    this._inkBar.toArray()[0].alignToElement(this._currentLabelWrapper);\r\n  }\r\n\r\n  /**\r\n   * Reference to the current label wrapper; defaults to null for initial render before the\r\n   * ViewChildren references are ready.\r\n   */\r\n  private get _currentLabelWrapper(): HTMLElement {\r\n    return this._labelWrappers && this._labelWrappers.length\r\n        ? this._labelWrappers.toArray()[this.selectedIndex].elementRef.nativeElement\r\n        : null;\r\n  }\r\n\r\n  /** Tracks which element has focus; used for keyboard navigation */\r\n  get focusIndex(): number {\r\n    return this._focusIndex;\r\n  }\r\n\r\n  /** When the focus index is set, we must manually send focus to the correct label */\r\n  set focusIndex(value: number) {\r\n    if (this.isValidIndex(value)) {\r\n      this._focusIndex = value;\r\n\r\n      if (this._isInitialized) {\r\n        this._onFocusChange.emit(this._createChangeEvent(value));\r\n      }\r\n\r\n      if (this._labelWrappers && this._labelWrappers.length) {\r\n        this._labelWrappers.toArray()[value].focus();\r\n      }\r\n    }\r\n  }\r\n\r\n  private _createChangeEvent(index: number): MdTabChangeEvent {\r\n    const event = new MdTabChangeEvent;\r\n    event.index = index;\r\n    if (this._tabs && this._tabs.length) {\r\n      event.tab = this._tabs.toArray()[index];\r\n    }\r\n    return event;\r\n  }\r\n\r\n  /** Returns a unique id for each tab label element */\r\n  _getTabLabelId(i: number): string {\r\n    return `md-tab-label-${this._groupId}-${i}`;\r\n  }\r\n\r\n  /** Returns a unique id for each tab content element */\r\n  _getTabContentId(i: number): string {\r\n    return `md-tab-content-${this._groupId}-${i}`;\r\n  }\r\n\r\n  handleKeydown(event: KeyboardEvent) {\r\n    switch (event.keyCode) {\r\n      case RIGHT_ARROW:\r\n        this.focusNextTab();\r\n        break;\r\n      case LEFT_ARROW:\r\n        this.focusPreviousTab();\r\n        break;\r\n      case ENTER:\r\n        this.selectedIndex = this.focusIndex;\r\n        break;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Moves the focus left or right depending on the offset provided.  Valid offsets are 1 and -1.\r\n   */\r\n  moveFocus(offset: number) {\r\n    if (this._labelWrappers) {\r\n      const tabs: MdTab[] = this._tabs.toArray();\r\n      for (let i = this.focusIndex + offset; i < tabs.length && i >= 0; i += offset) {\r\n        if (this.isValidIndex(i)) {\r\n          this.focusIndex = i;\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Increment the focus index by 1 until a valid tab is found. */\r\n  focusNextTab(): void {\r\n    this.moveFocus(1);\r\n  }\r\n\r\n  /** Decrement the focus index by 1 until a valid tab is found. */\r\n  focusPreviousTab(): void {\r\n    this.moveFocus(-1);\r\n  }\r\n}\r\n\r\n\r\n@NgModule({\r\n  imports: [CommonModule, PortalModule],\r\n  // Don't export MdInkBar or MdTabLabelWrapper, as they are internal implementatino details.\r\n  exports: [MdTabGroup, MdTabLabel, MdTabContent, MdTab],\r\n  declarations: [MdTabGroup, MdTabLabel, MdTabContent, MdTab, MdInkBar, MdTabLabelWrapper],\r\n})\r\nexport class MdTabsModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: MdTabsModule,\r\n      providers: []\r\n    };\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}